function newGraph(newArray) {

var data = newArray;
var w = 870,
    h = 200,
    p = 100,
    x = d3.scale.linear().domain([d3.min(data, function(d,i) { return d.x }), d3.max(data, function(d,i) { return d.x })]).range([0, w]),
    y = d3.scale.linear().domain([d3.min(data, function(d,i) { return d.y }), d3.max(data, function(d,i) { return d.y })]).range([h, 0]);


var svg = d3.select("#fuck")
    .data([data])
  .append("svg:svg")
    .attr("width", w + p * 2)
    .attr("height", h + p * 2)
  .append("svg:g")
    .attr("transform", "translate(" + p + "," + p + ")");



svg.append("svg:path")
    .attr("class", "line")
    .attr("d", d3.svg.line()
    .x(function(d) { return x(d.x); })
    .y(function(d) { return y(d.y); }));

/*var rules = vis.selectAll("g.rule")
    .data(x.ticks(10))
  .enter().append("svg:g")
    .attr("class", "rule");

//y axis
rules.append("svg:line")
    .attr("x1", 0)
    .attr("x2", 0)
    .attr("y1", 0)
    .attr("y2", h - 1);

//x-axis
rules.append("svg:line")
.data(x.ticks(10))

    .attr("class", function(d) { return d ? null : "axis"; })
    .attr("y1", h)
    .attr("y2", h)
    .attr("x1", 0)
    .attr("x2", w + 1);

rules.append("svg:text")
    .attr("x", x)
    .attr("y", h + 5)
    .attr("dy", ".71em")
    .attr("text-anchor", "middle")
    .text(x.tickFormat(10));

rules.append("svg:text")
    .data(y.ticks(10))
    .attr("y", y)
    .attr("x", 0)
    .attr("dy", ".35em")
    .attr("text-anchor", "end")
    .text(y.tickFormat(10));
*/

 var xScale = d3.scale.linear()
                 .domain([d3.min(data, function(d,i) { return d.x; }), d3.max(data, function(d,i) { return d.x; })])
                 .range([0, w]);
                   //create Y axis
        
          var yScale = d3.scale.linear()
            .domain([d3.min(data, function(d,i) { return d.y; }), d3.max(data, function(d) { return d.y; })])
            .range([h,0]);
//Define yAxis
      var yAxis = d3.svg.axis()
        .scale(yScale)
        .ticks(4)
        .tickSubdivide(4)
        .orient('left')

      //Create scale functions
     




      //Define X axis
      var xAxis = d3.svg.axis()
                .scale(x)
                .ticks(5)
                .tickSubdivide(10)
                .orient("bottom");
        
      
      //Create X axis
      svg.append("svg:g")
      	.attr('class','axis')
        .attr("transform", "translate("+0+"," + h +")")
        //.text('fuck')
        .call(xAxis);

        svg.append('svg:g')
        .attr('class', 'axis')
        .attr("transform", "translate(0,0)")
        .call(yAxis);

}

function repaintGraph(newArray){
d3.selectAll("svg").remove()
newGraph(newArray);
}